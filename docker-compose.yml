# vim: set expandtab sw=2 ts=2 sts=2 :

version: '3'

x-base-image:
  &base_image_config
  image: geerlingguy/docker-ubuntu1804-ansible
  privileged: yes
  volumes:
    - /sys/fs/cgroup:/sys/fs/cgroup:ro

services:
  node1:
    << : *base_image_config
    container_name: 192.168.0.11
    ports:
      - 127.0.0.1:80:80
  node2:
    << : *base_image_config
    container_name: 192.168.0.12
  node3:
    << : *base_image_config
    container_name: 192.168.0.13
  control:
    << : *base_image_config
    container_name: 44.55.66.77
    ports:
      - 127.0.0.1:81:80
